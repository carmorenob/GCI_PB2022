$PBExportHeader$dw_new_devoluciones_org.srd
release 10.5;
datawindow(units=0 timer_interval=0 color=16777215 processing=0 HTMLDW=no print.printername="" print.documentname="" print.orientation = 0 print.margin.left = 110 print.margin.right = 110 print.margin.top = 96 print.margin.bottom = 96 print.paper.source = 0 print.paper.size = 0 print.canusedefaultprinter=yes print.prompt=no print.buttons=no print.preview.buttons=no print.cliptext=no print.overrideprintjob=no print.collate=yes print.preview.outline=yes hidegrayline=no )
header(height=0 color="536870912" )
summary(height=0 color="536870912" )
footer(height=0 color="536870912" )
detail(height=60 color="536870912" )
table(column=(type=number updatewhereclause=yes name=contador dbname="contador" )
 column=(type=char(2) updatewhereclause=yes name=clugar dbname="clugar" )
 column=(type=long updatewhereclause=yes name=nsolicitud dbname="nsolicitud" )
 column=(type=long updatewhereclause=yes name=item dbname="item" )
 column=(type=long updatewhereclause=yes name=entregada dbname="entregada" )
 column=(type=long updatewhereclause=yes name=suministrada dbname="suministrada" )
 column=(type=char(15) updatewhereclause=yes name=codgenerico dbname="codgenerico" )
 column=(type=char(200) updatewhereclause=yes name=descrip_generico dbname="descrip_generico" )
 column=(type=char(10) updatewhereclause=yes name=codarti dbname="codarti" )
 column=(type=char(15) updatewhereclause=yes name=codalmacen dbname="codalmacen" )
 column=(type=decimal(2) updatewhereclause=yes name=valorunit dbname="valorunit" )
 column=(type=decimal(2) updatewhereclause=yes name=sumadesalidacant dbname="sumadesalidacant" )
 column=(type=char(200) updatewhereclause=yes name=descripcion dbname="descripcion" )
 column=(type=decimal(2) updatewhereclause=yes name=atendido dbname="atendido" )
 column=(type=char(4) updatewhereclause=yes name=cdoc_entrega dbname="cdoc_entrega" )
 column=(type=char(2) updatewhereclause=yes name=clug_entrega dbname="clug_entrega" )
 column=(type=number updatewhereclause=yes name=ndoc_entrega dbname="ndoc_entrega" )
 column=(type=long updatewhereclause=yes name=item_entrega dbname="item_entrega" )
 column=(type=char(1) updatewhereclause=yes name=tipo_orden dbname="tipo_orden" values="En estancia	H/En Salas QX.	X/" )
 column=(type=long updatewhereclause=yes name=solicitada dbname="solicitada" )
 column=(type=decimal(2) updatewhereclause=yes name=cantidad dbname="cantidad" )
 column=(type=long updatewhereclause=yes name=devolver dbname="devolver" validation="long(gettext())<= sumadesalidacant -  atendido and long(gettext())>=0" validationmsg="'Cantidad no válida'" )
 column=(type=long updatewhereclause=yes name=devuelta dbname="devuelta" )
 retrieve="SELECT OSCuerpo.Contador, OSCuerpo.clugar, OSCuerpo.NSolicitud, OSCuerpo.Item, OSCuerpo.entregada, OSCuerpo.suministrada, SUMGENERICO.codgenerico, 
SUMGENERICO.descripcion AS descrip_generico, SUM_KARDEX_MOV.CODARTI, SUM_KARDEX_MOV.CODALMACEN, SUM_KARDEX_MOV.VALORUNIT, 
Sum(SUM_KARDEX_MOV.SALIDACANT) AS SumaDeSALIDACANT, SUMARTICULO.DESCRIPCION, sum_mvto_cpo.atendido, sum_mvto_cpo.coddoc AS cdoc_entrega, 
sum_mvto_cpo.clugar AS clug_entrega, sum_mvto_cpo.numdoc AS ndoc_entrega, sum_mvto_cpo.item AS item_entrega, OSCabeza.tipo_orden, 
OSCuerpo.solicitada, sum_mvto_cpo.cantidad, 0 AS devolver, OSCuerpo.devuelta
FROM ((OSCabeza INNER JOIN ((HospAdmi INNER JOIN OSCuerpo ON (HospAdmi.Contador = OSCuerpo.Contador) 
AND (HospAdmi.clugar_his = OSCuerpo.clugar)) INNER JOIN SUMGENERICO ON OSCuerpo.c_medica = SUMGENERICO.c_medica) 
ON (OSCabeza.NSolicitud = OSCuerpo.NSolicitud) AND (OSCabeza.clugar = OSCuerpo.clugar) AND (OSCabeza.Contador = OSCuerpo.Contador))
 INNER JOIN (sum_mvto_cab INNER JOIN sum_mvto_cpo ON (sum_mvto_cab.numdoc = sum_mvto_cpo.numdoc) 
AND (sum_mvto_cab.clugar = sum_mvto_cpo.clugar) AND (sum_mvto_cab.coddoc = sum_mvto_cpo.coddoc)) 
ON (OSCuerpo.Item = sum_mvto_cpo.item_os) AND (OSCuerpo.NSolicitud = sum_mvto_cpo.Nsolicitud_os) 
AND (OSCuerpo.clugar = sum_mvto_cpo.clugar_os) AND (OSCuerpo.Contador = sum_mvto_cpo.contador_os)) 
inner JOIN (SUM_KARDEX_MOV inner JOIN SUMARTICULO ON SUM_KARDEX_MOV.CODARTI = SUMARTICULO.codArticulo) 
ON (sum_mvto_cpo.item = SUM_KARDEX_MOV.ITEMREF) AND (sum_mvto_cpo.numdoc = SUM_KARDEX_MOV.NUMDOCREF) 
AND (sum_mvto_cpo.clugar = SUM_KARDEX_MOV.CLUGARREF) AND (sum_mvto_cpo.coddoc = SUM_KARDEX_MOV.CODDOCREF)
WHERE (((HospAdmi.NH)=:nh) AND ((HospAdmi.clugar)=:clug) AND ((sum_mvto_cab.estado)='1'))
GROUP BY OSCuerpo.Contador, OSCuerpo.clugar, OSCuerpo.NSolicitud, OSCuerpo.Item, OSCuerpo.entregada, OSCuerpo.suministrada, 
SUMGENERICO.codgenerico, SUMGENERICO.descripcion, SUM_KARDEX_MOV.CODARTI, SUM_KARDEX_MOV.CODALMACEN, SUM_KARDEX_MOV.VALORUNIT, 
SUMARTICULO.DESCRIPCION, sum_mvto_cpo.atendido, sum_mvto_cpo.coddoc, sum_mvto_cpo.clugar, sum_mvto_cpo.numdoc, sum_mvto_cpo.item, 
OSCabeza.tipo_orden, OSCuerpo.solicitada, sum_mvto_cpo.cantidad, OSCuerpo.devuelta
HAVING (((OSCuerpo.entregada)>0 And (OSCuerpo.entregada)>oscuerpo.suministrada) AND ((Sum(SUM_KARDEX_MOV.SALIDACANT)) 
Is Null Or (Sum(SUM_KARDEX_MOV.SALIDACANT))>sum_mvto_cpo.atendido) AND ((sum_mvto_cpo.coddoc)<>'DEVF'))" arguments=(("nh", number),("clug", string))  sort="nsolicitud A item A ndoc_entrega A " )
group(level=1 header.height=68 trailer.height=0 by=("nsolicitud" ) header.color="134217752" trailer.color="536870912" )
group(level=2 header.height=180 trailer.height=116 by=("item" ) header.color="67108864" trailer.color="536870912" )
group(level=3 header.height=56 trailer.height=0 by=("ndoc_entrega" ) header.color="15793151" trailer.color="536870912" )
text(band=header.1 alignment="0" text=" Nro Orden" border="6" color="33554432" x="9" y="0" height="56" width="297" html.valueishtml="0"  name=norden_t visible="1"  font.face="Tahoma" font.height="-10" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="2" background.color="12639424" )
text(band=header.1 alignment="0" text="Origen" border="6" color="33554432" x="878" y="0" height="60" width="197" html.valueishtml="0"  name=t_12 visible="1"  font.face="Tahoma" font.height="-10" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="2" background.color="12639424" )
text(band=header.1 alignment="0" text="Almacen:" border="0" color="0" x="1664" y="0" height="64" width="274" html.valueishtml="0"  name=t_13 visible="1"  font.face="Tahoma" font.height="-10" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="1" background.color="553648127" )
column(band=header.1 id=3 alignment="0" tabsequence=32766 border="0" color="33554432" x="325" y="4" height="56" width="517" format="[general]" html.valueishtml="0"  name=nsolicitud visible="1" edit.limit=0 edit.case=any edit.autoselect=yes  font.face="Tahoma" font.height="-9" font.weight="700"  font.family="2" font.pitch="2" font.charset="0" background.mode="1" background.color="536870912" )
column(band=header.1 id=19 alignment="0" tabsequence=32766 border="0" color="33554432" x="1093" y="4" height="60" width="503" format="[general]" html.valueishtml="0"  name=tipo_orden visible="1" edit.limit=0 edit.case=any edit.autoselect=yes edit.codetable=yes  font.face="Tahoma" font.height="-9" font.weight="400"  font.family="2" font.pitch="1" font.charset="0" background.mode="1" background.color="536870912" )
column(band=header.1 id=10 alignment="0" tabsequence=32766 border="0" color="33554432" x="1952" y="4" height="60" width="402" format="[general]" html.valueishtml="0"  name=codalmacen visible="1" edit.limit=0 edit.case=any edit.autoselect=yes  font.face="Tahoma" font.height="-9" font.weight="700"  font.family="2" font.pitch="2" font.charset="0" background.mode="1" background.color="536870912" )
text(band=header.2 alignment="2" text="Devolver" border="6" color="255" x="178" y="124" height="48" width="201" html.valueishtml="0"  name=t_11 visible="1"  font.face="Tahoma" font.height="-8" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="2" background.color="12639424" )
text(band=header.2 alignment="2" text="Cant. Ent." border="6" color="33554432" x="398" y="124" height="48" width="229" html.valueishtml="0"  name=t_9 visible="1"  font.face="Tahoma" font.height="-8" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="2" background.color="15780518" )
text(band=header.2 alignment="2" text="Devueltos" border="6" color="33554432" x="645" y="124" height="48" width="242" html.valueishtml="0"  name=t_15 visible="1"  font.face="Tahoma" font.height="-8" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="2" background.color="15780518" )
text(band=header.2 alignment="2" text="Artículo" border="6" color="33554432" x="901" y="124" height="48" width="1650" html.valueishtml="0"  name=t_8 visible="1"  font.face="Tahoma" font.height="-8" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="2" background.color="15780518" )
text(band=header.2 alignment="1" text="Valor Unitario" border="6" color="33554432" x="2565" y="124" height="48" width="366" html.valueishtml="0"  name=t_10 visible="1"  font.face="Tahoma" font.height="-8" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="2" background.color="15780518" )
column(band=header.2 id=4 alignment="2" tabsequence=32766 border="0" color="33554432" x="37" y="64" height="44" width="178" format="[general]" html.valueishtml="0"  name=item visible="1" edit.limit=0 edit.case=any edit.autoselect=yes  font.face="Tahoma" font.height="-8" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="1" background.color="536870912" )
compute(band=header.2 alignment="2" expression="entregada - suministrada /*- devuelta*/"border="0" color="255" x="238" y="56" height="60" width="247" format="[General]" html.valueishtml="0"  name=posible visible="1"  font.face="Arial" font.height="-10" font.weight="700"  font.family="2" font.pitch="2" font.charset="0" background.mode="1" background.color="553648127" )
column(band=header.2 id=20 alignment="2" tabsequence=32766 border="0" color="33554432" x="498" y="64" height="52" width="210" format="[general]" html.valueishtml="0"  name=solicitada visible="1" edit.limit=0 edit.case=any edit.autoselect=yes  font.face="Tahoma" font.height="-8" font.weight="400"  font.family="2" font.pitch="1" font.charset="0" background.mode="1" background.color="536870912" )
column(band=header.2 id=5 alignment="2" tabsequence=32766 border="0" color="33554432" x="731" y="64" height="52" width="224" format="[general]" html.valueishtml="0"  name=entregada visible="1" edit.limit=0 edit.case=any edit.autoselect=yes  font.face="Tahoma" font.height="-8" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="1" background.color="536870912" )
column(band=header.2 id=6 alignment="2" tabsequence=32766 border="0" color="33554432" x="974" y="64" height="52" width="201" format="[general]" html.valueishtml="0"  name=suministrada visible="1" edit.limit=0 edit.case=any edit.autoselect=yes  font.face="Tahoma" font.height="-8" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="1" background.color="536870912" )
text(band=header.2 alignment="2" text="Item orden" border="6" color="33554432" x="27" y="0" height="48" width="197" html.valueishtml="0"  name=t_3 visible="1"  font.face="Tahoma" font.height="-8" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="2" background.color="67108864" )
text(band=header.2 alignment="2" text="Suminist." border="6" color="33554432" x="974" y="0" height="48" width="197" html.valueishtml="0"  name=t_7 visible="1"  font.face="Tahoma" font.height="-8" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="2" background.color="67108864" )
text(band=header.2 alignment="2" text="Entregado" border="6" color="33554432" x="731" y="0" height="48" width="229" html.valueishtml="0"  name=t_6 visible="1"  font.face="Tahoma" font.height="-8" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="2" background.color="67108864" )
text(band=header.2 alignment="2" text="Solicitado" border="6" color="33554432" x="489" y="0" height="48" width="229" html.valueishtml="0"  name=t_5 visible="1"  font.face="Tahoma" font.height="-8" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="2" background.color="67108864" )
text(band=header.2 alignment="0" text="Max devol." border="6" color="33554432" x="242" y="0" height="48" width="238" html.valueishtml="0"  name=t_14 visible="1"  font.face="Tahoma" font.height="-8" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="2" background.color="67108864" )
text(band=header.2 alignment="2" text="Generico" border="6" color="33554432" x="1390" y="0" height="48" width="1554" html.valueishtml="0"  name=t_4 visible="1"  font.face="Tahoma" font.height="-8" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="2" background.color="67108864" )
column(band=header.2 id=8 alignment="0" tabsequence=80 border="0" color="33554432" x="1403" y="64" height="52" width="1518" format="[general]" html.valueishtml="0"  name=descrip_generico visible="1" edit.limit=0 edit.case=any edit.autoselect=yes  font.face="Tahoma" font.height="-8" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="1" background.color="536870912" )
text(band=header.2 alignment="2" text="Devuelta" border="6" color="33554432" x="1184" y="0" height="48" width="197" html.valueishtml="0"  name=t_16 visible="1"  font.face="Tahoma" font.height="-8" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="2" background.color="67108864" )
column(band=header.2 id=23 alignment="0" tabsequence=60 border="0" color="0" x="1184" y="64" height="52" width="197" format="[general]" html.valueishtml="0"  name=devuelta visible="1" edit.limit=0 edit.case=any edit.autoselect=yes  font.face="Tahoma" font.height="-8" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="1" background.color="536870912" )
text(band=header.3 alignment="1" text="Entrega Farm" border="0" color="33554432" x="229" y="0" height="52" width="347" html.valueishtml="0"  name=t_1 visible="1"  font.face="Tahoma" font.height="-8" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="2" background.color="67108864" )
text(band=header.3 alignment="1" text="Cant. Entregada" border="0" color="33554432" x="983" y="0" height="52" width="375" html.valueishtml="0"  name=t_2 visible="1"  font.face="Tahoma" font.height="-8" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="2" background.color="67108864" )
column(band=header.3 id=17 alignment="0" tabsequence=32766 border="0" color="33554432" x="594" y="0" height="52" width="347" format="[general]" html.valueishtml="0"  name=ndoc_entrega visible="1" edit.limit=0 edit.case=any edit.autoselect=yes  font.face="Tahoma" font.height="-8" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="1" background.color="536870912" )
column(band=header.3 id=21 alignment="0" tabsequence=32766 border="0" color="33554432" x="1371" y="0" height="52" width="485" format="[general]" html.valueishtml="0"  name=cantidad visible="1" edit.limit=0 edit.case=any edit.autoselect=yes  font.face="Tahoma" font.height="-8" font.weight="400"  font.family="2" font.pitch="1" font.charset="0" background.mode="1" background.color="536870912" )
column(band=detail id=22 alignment="2" tabsequence=10 border="0" color="255" x="178" y="4" height="56" width="215" format="[general]" html.valueishtml="0"  name=devolver visible="1" edit.limit=0 edit.case=any edit.autoselect=yes  font.face="Tahoma" font.height="-8" font.weight="700"  font.family="2" font.pitch="1" font.charset="0" background.mode="1" background.color="536870912" )
column(band=detail id=12 alignment="2" tabsequence=20 border="0" color="33554432" x="407" y="4" height="52" width="219" format="[general]" html.valueishtml="0"  name=sumadesalidacant visible="1" edit.limit=0 edit.case=any edit.focusrectangle=no edit.autoselect=yes edit.autohscroll=yes edit.displayonly=yes  font.face="Tahoma" font.height="-8" font.weight="400~tif ( currentrow()=getrow() , 700 , 400 )"  font.family="2" font.pitch="1" font.charset="0"font.underline="0~tif ( currentrow()=getrow() , 1 , 0 )"  background.mode="1" background.color="536870912" )
column(band=detail id=14 alignment="2" tabsequence=30 border="0" color="33554432" x="640" y="4" height="52" width="242" format="[general]" html.valueishtml="0"  name=atendido visible="1" edit.limit=0 edit.case=any edit.autoselect=yes edit.displayonly=yes  font.face="Tahoma" font.height="-8" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="1" background.color="536870912" )
column(band=detail id=13 alignment="0" tabsequence=40 border="0" color="33554432" x="896" y="4" height="52" width="1646" format="[general]" html.valueishtml="0"  name=descripcion visible="1" edit.limit=0 edit.case=any edit.autoselect=yes edit.displayonly=yes  font.face="Tahoma" font.height="-8" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="1" background.color="536870912" )
column(band=detail id=11 alignment="1" tabsequence=50 border="0" color="33554432" x="2555" y="4" height="52" width="379" format="#,##0.00" html.valueishtml="0"  name=valorunit visible="1" edit.limit=0 edit.case=any edit.autoselect=yes edit.displayonly=yes  font.face="Tahoma" font.height="-8" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="1" background.color="536870912" )
compute(band=trailer.2 alignment="0" expression="sum ( devolver for group 2)"border="0" color="0" x="2569" y="0" height="76" width="256" format="[General]" html.valueishtml="0"  name=t_devolver visible="1"  font.face="Arial" font.height="-12" font.weight="400"  font.family="2" font.pitch="2" font.charset="0" background.mode="2" background.color="16777215" )
htmltable(border="1" )
htmlgen(clientevents="1" clientvalidation="1" clientcomputedfields="1" clientformatting="0" clientscriptable="0" generatejavascript="1" encodeselflinkargs="1" netscapelayers="0" pagingmethod=0 generatedddwframes="1" )
xhtmlgen() cssgen(sessionspecific="0" )
xmlgen(inline="0" )
xsltgen()
jsgen()
export.xml(headgroups="1" includewhitespace="0" metadatatype=0 savemetadata=0 )
import.xml()
export.pdf(method=0 distill.custompostscript="0" xslfop.print="0" )
export.xhtml()
 